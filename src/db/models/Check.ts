import { Model, DataTypes, InferAttributes, InferCreationAttributes, CreationOptional, Sequelize, ForeignKey } from 'sequelize';
import { Monitor } from './Monitor';
export class Check extends Model<InferAttributes<Check>, InferCreationAttributes<Check>> { declare id: CreationOptional<string>; declare monitorId: ForeignKey<Monitor['id']>; declare status: 'up' | 'down'; declare httpStatus: number | null; declare responseTimeMs: number; declare error: string | null; declare createdAt: CreationOptional<Date>; declare updatedAt: CreationOptional<Date>; }
export function initCheck(sequelize: Sequelize) { Check.init({ id: { type: DataTypes.UUID, allowNull: false, defaultValue: DataTypes.UUIDV4, primaryKey: true }, monitorId: { type: DataTypes.UUID, allowNull: false }, status: { type: DataTypes.ENUM('up','down'), allowNull: false }, httpStatus: { type: DataTypes.INTEGER, allowNull: true }, responseTimeMs: { type: DataTypes.INTEGER, allowNull: false }, error: { type: DataTypes.TEXT, allowNull: true }, createdAt: DataTypes.DATE, updatedAt: DataTypes.DATE }, { sequelize, tableName: 'Checks', modelName: 'Check' }); }
